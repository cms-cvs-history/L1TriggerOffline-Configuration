// l1validation.cfg
// re-run full L1 emulator chain and make validation plots

process L1VAL = {

  include "FWCore/MessageService/data/MessageLogger.cfi"

  source = PoolSource {
    untracked vstring fileNames = { '' }
  }

  untracked PSet maxEvents = { untracked int32 input = 1000 }

  replace TFileService.fileName = "l1RerunVal.root"

  // path 1 - validate emulator output from digis

  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
  include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
  include "Configuration/StandardSequences/data/FrontierConditions.cff"
  include "L1Trigger/Configuration/data/L1Emulator.cff"
  include "L1Trigger/Configuration/data/L1DummyConfig.cff"
  include "L1Trigger/Configuration/data/L1Extra.cff"

  // choose L1 menu
  include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1030/L1Menu2008_2E30.cff"
//  include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1031/L1Menu2008_2E31.cff"
//  include "L1TriggerConfig/L1GtConfigProducers/data/Luminosity/lumi1x1032/L1Menu2007.cff

  include "L1TriggerOffline/L1Analyzer/data/L1MuonMCAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1IsoEmMCAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1NonIsoEmMCAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1IsoEmRecoAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1NonIsoEmRecoAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1CenJetMCAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1TauJetMCAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1ForJetMCAnalysis.cff"
  include "L1TriggerOffline/L1Analyzer/data/L1MetMCAnalysis.cff"

  path p1 = { L1Emulator, L1Extra, L1MuonMCAnalysis & L1IsoEmMCAnalysis & L1NonIsoEmMCAnalysis & L1CenJetMCAnalysis & L1ForJetMCAnalysis & L1TauJetMCAnalysis & L1MetMCAnalysis }

  include "L1Trigger/GlobalTriggerAnalyzer/data/l1GtTrigReport.cfi"
  replace l1GtTrigReport.PrintOutput = 2

  endpath e = { l1GtTrigReport }

}
